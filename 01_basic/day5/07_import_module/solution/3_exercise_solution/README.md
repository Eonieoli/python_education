# Day 5 - 07κµμ‹: import μ™„μ „ μ •λ³µ - Exercise Solution

## π“ κ°μ”

μ΄ λ””λ ‰ν† λ¦¬λ” `3_exercise/` λ””λ ‰ν† λ¦¬μ λ¨λ“  TODOλ¥Ό μ™„μ„±ν• μ •λ‹µ λ²„μ „μ…λ‹λ‹¤.

## π“‚ νμΌ κµ¬μ΅°

```
3_exercise_solution/
β”β”€β”€ README.md           # μ΄ νμΌ
β”β”€β”€ validation.py      # κ²€μ¦ ν•¨μλ“¤ (μ™„μ„±)
β”β”€β”€ models.py          # ν΄λμ¤λ“¤ (μ™„μ„±)
β””β”€β”€ main.py            # ν†µν•© μ‚¬μ© (μ™„μ„±)
```

## π€ μ‹¤ν–‰ λ°©λ²•

```bash
# κ° νμΌ κ°λ³„ ν…μ¤νΈ
python validation.py
python models.py

# λ©”μΈ ν”„λ΅κ·Έλ¨ μ‹¤ν–‰
python main.py
```

## π’΅ μ£Όμ” κµ¬ν„ λ‚΄μ©

### validation.py

1. **validate_email()**
   - @μ™€ .μ΄ λ¨λ‘ ν¬ν•¨λμ–΄ μλ”μ§€ ν™•μΈ
   ```python
   return "@" in email and "." in email
   ```

2. **validate_phone()**
   - "010-1234-5678" ν•μ‹ κ²€μ¦
   ```python
   parts = phone.split("-")
   return len(parts) == 3 and parts[0] == "010"
   ```

3. **validate_password()**
   - 8μ μ΄μƒ, λ€λ¬Έμ 1κ°, μ«μ 1κ°
   ```python
   if len(password) < 8:
       return False
   has_upper = any(c.isupper() for c in password)
   has_digit = any(c.isdigit() for c in password)
   return has_upper and has_digit
   ```

4. **validate_username()**
   - 3~20μ, μ•νλ²³κ³Ό μ«μλ§
   ```python
   return 3 <= len(username) <= 20 and username.isalnum()
   ```

5. **validate_age()**
   - 0 < age <= 150
   ```python
   return 0 < age <= 150
   ```

### models.py

1. **Product ν΄λμ¤**
   - μƒν’ μ •λ³΄ κ΄€λ¦¬
   - μ¬κ³  ν™•μΈ, νλ§¤, μ¬κ³  μ¶”κ°€ κΈ°λ¥
   ```python
   def sell(self, quantity: int = 1) -> bool:
       if self.stock >= quantity:
           self.stock -= quantity
           return True
       return False
   ```

2. **User ν΄λμ¤**
   - μ‚¬μ©μ μ •λ³΄ κ΄€λ¦¬
   - Optional[int]λ¥Ό μ‚¬μ©ν• μ„ νƒμ  λ‚μ΄ ν•„λ“
   ```python
   def get_profile(self) -> str:
       if self.age is not None:
           return f"{self.username} ({self.email}) - λ‚μ΄: {self.age}μ„Έ"
       return f"{self.username} ({self.email})"
   ```

3. **ShoppingCart ν΄λμ¤**
   - μ¥λ°”κµ¬λ‹ κΈ°λ¥
   - μƒν’ μ¶”κ°€, μ΄μ•΅ κ³„μ‚°
   ```python
   def get_total_price(self) -> int:
       total = 0
       for item in self.items:
           product = item["product"]
           quantity = item["quantity"]
           total += product.price * quantity
       return total
   ```

### main.py

μ „μ²΄ ν”„λ΅κ·Έλ¨ ν†µν•©:

1. **μ‚¬μ©μ λ“±λ΅**
   - User κ°μ²΄ μƒμ„±
   - λ¨λ“  ν•„λ“ κ²€μ¦

2. **μƒν’ λ“±λ΅**
   - μ—¬λ¬ Product κ°μ²΄ μƒμ„±
   - μ¬κ³  ν™•μΈ

3. **μ¥λ°”κµ¬λ‹**
   - ShoppingCart μ‚¬μ©
   - κµ¬λ§¤ κ°€λ¥ν• μƒν’λ§ μ¶”κ°€

4. **μ¬κ³  κ΄€λ¦¬**
   - μ¬κ³  μ¶”κ°€/κ°μ†

5. **νλ§¤ μ‹λ®¬λ μ΄μ…**
   - μ„±κ³µ/μ‹¤ν¨ μΌ€μ΄μ¤ μ²λ¦¬

6. **κ²€μ¦ ν…μ¤νΈ**
   - μλ»λ λ°μ΄ν„° κ²€μ¦

## π“ μ‹¤ν–‰ κ²°κ³Ό

```
==================================================
μ‡Όν•‘λ° μ‹μ¤ν…
==================================================

1. μ‚¬μ©μ λ“±λ΅
--------------------------------------------------
μ‚¬μ©μ μ •λ³΄ κ²€μ¦:
  β“ μ ν¨ν• μ‚¬μ©μλ…
  β“ μ ν¨ν• μ΄λ©”μΌ
  β“ μ ν¨ν• λΉ„λ°€λ²νΈ
  β“ μ ν¨ν• λ‚μ΄

alice123 (alice@example.com) - λ‚μ΄: 25μ„Έ

2. μƒν’ λ“±λ΅
--------------------------------------------------
λ…ΈνΈλ¶ - 1,500,000μ› (μ¬κ³ : 10κ°)
  β“ κµ¬λ§¤ κ°€λ¥
ν‚¤λ³΄λ“ - 150,000μ› (μ¬κ³ : 20κ°)
  β“ κµ¬λ§¤ κ°€λ¥
λ§μ°μ¤ - 50,000μ› (μ¬κ³ : 0κ°)
  β— ν’μ 

3. μ¥λ°”κµ¬λ‹
--------------------------------------------------
λ…ΈνΈλ¶ 1κ° μ¶”κ°€
ν‚¤λ³΄λ“ 2κ° μ¶”κ°€

μ¥λ°”κµ¬λ‹ μƒν’ μ: 2κ°
μ΄ κΈμ•΅: 1,800,000μ›

4. μ¬κ³  κ΄€λ¦¬
--------------------------------------------------
μ¬κ³  μ¶”κ°€ μ „: λ§μ°μ¤ - 50,000μ› (μ¬κ³ : 0κ°)
μ¬κ³  μ¶”κ°€ ν›„: λ§μ°μ¤ - 50,000μ› (μ¬κ³ : 15κ°)

5. μƒν’ νλ§¤
--------------------------------------------------
νλ§¤ μ „: λ…ΈνΈλ¶ - 1,500,000μ› (μ¬κ³ : 10κ°)
β“ 5κ° νλ§¤ μ„±κ³µ!
νλ§¤ ν›„: λ…ΈνΈλ¶ - 1,500,000μ› (μ¬κ³ : 5κ°)

ν„μ¬ μ¬κ³ : 5κ°
10κ° νλ§¤ μ‹λ„:
β— μ¬κ³  λ¶€μ΅±μΌλ΅ 10κ° νλ§¤ μ‹¤ν¨

6. μλ»λ λ°μ΄ν„° κ²€μ¦
--------------------------------------------------
β— μ‚¬μ©μλ… 'ab': False
β— μ΄λ©”μΌ 'not-an-email': False
β— λΉ„λ°€λ²νΈ 'weak': False
β— μ „ν™”λ²νΈ '01012345678': False
β— λ‚μ΄ 200: False

7. μ¥λ°”κµ¬λ‹ μƒμ„Έ λ‚΄μ—­
--------------------------------------------------
κµ¬λ§¤ λ©λ΅:
1. λ…ΈνΈλ¶ x 1 = 1,500,000μ›
2. ν‚¤λ³΄λ“ x 2 = 300,000μ›

μ΄ κ²°μ  κΈμ•΅: 1,800,000μ›

8. μ „ν™”λ²νΈ λ“±λ΅
--------------------------------------------------
β“ 010-1234-5678: λ“±λ΅ κ°€λ¥
β“ 010-9999-8888: λ“±λ΅ κ°€λ¥
β— 02-1234-5678: λ“±λ΅ λ¶κ°€ (ν•μ‹ μ¤λ¥)
β— 01012345678: λ“±λ΅ λ¶κ°€ (ν•μ‹ μ¤λ¥)
```

## π― ν•™μµ ν¬μΈνΈ

### 1. λ¨λ“ λ¶„λ¦¬μ μ¥μ 

```
validation.py  β†’  μ…λ ¥ κ²€μ¦λ§ λ‹΄λ‹Ή
models.py      β†’  λΉ„μ¦λ‹μ¤ λ΅μ§λ§ λ‹΄λ‹Ή
main.py        β†’  ν†µν•© λ° μ‚¬μ©
```

κ° λ¨λ“μ€ ν•λ‚μ μ±…μ„λ§ κ°€μ§ (Single Responsibility Principle)

### 2. FastAPI ν”„λ΅μ νΈλ΅ ν™•μ¥

ν„μ¬ κµ¬μ΅°:
```
3_exercise_solution/
β”β”€β”€ validation.py
β”β”€β”€ models.py
β””β”€β”€ main.py
```

FastAPI ν”„λ΅μ νΈ κµ¬μ΅°:
```
my_fastapi_project/
β”β”€β”€ app/
β”‚   β”β”€β”€ validation/    # Pydantic validators
β”‚   β”β”€β”€ models/        # SQLAlchemy models
β”‚   β”β”€β”€ schemas/       # Pydantic schemas
β”‚   β”β”€β”€ api/          # API routers
β”‚   β””β”€β”€ core/         # μ„¤μ •, μμ΅΄μ„±
β”β”€β”€ main.py           # FastAPI μ•±
β””β”€β”€ requirements.txt
```

### 3. νƒ€μ… ννΈμ μ‹¤μ „ ν™μ©

```python
# Optional μ‚¬μ© (None κ°€λ¥)
def __init__(self, age: Optional[int] = None):
    self.age = age

# List μ‚¬μ© (λ¦¬μ¤νΈμ μ›μ† νƒ€μ…)
def __init__(self):
    self.items: List[dict] = []

# λ°ν™ νƒ€μ… λ…μ‹
def get_total_price(self) -> int:
    return total
```

### 4. any() ν•¨μ ν™μ©

```python
# λ€λ¬Έμκ°€ ν•λ‚λΌλ„ μλ”μ§€
has_upper = any(c.isupper() for c in password)

# μ«μκ°€ ν•λ‚λΌλ„ μλ”μ§€
has_digit = any(c.isdigit() for c in password)
```

## π” μ½”λ“ λ¦¬λ·° ν¬μΈνΈ

### μΆ‹μ€ μ 

1. **λ…ν™•ν• ν•¨μλ…**: validate_email, is_available λ“±
2. **νƒ€μ… ννΈ μ™„λΉ„**: λ¨λ“  ν•¨μ/λ©”μ„λ“μ— νƒ€μ… ννΈ
3. **docstring**: κ° ν•¨μμ μ—­ν•  λ…μ‹
4. **μ—λ¬ μ²λ¦¬**: μ¬κ³  λ¶€μ΅±, μλ»λ μ…λ ¥ λ“± μ²λ¦¬
5. **λ‹¨μΌ μ±…μ„**: κ° ν•¨μ/ν΄λμ¤κ°€ ν•λ‚μ μ—­ν• λ§

### κ°μ„  κ°€λ¥ν• μ 

1. **λ” κ°•λ ¥ν• κ²€μ¦**: μ •κ·μ‹ μ‚¬μ©
2. **μμ™Έ μ²λ¦¬**: try-except μ‚¬μ©
3. **λ΅κΉ…**: μ¤‘μ”ν• μ‘μ—… λ΅κΉ…
4. **ν…μ¤νΈ**: unittest λλ” pytest μ‘μ„±

## π“– λ‹¤μ λ‹¨κ³„

1. **μ‘μ© κ³Όμ • (Day 6-10)**
   - FastAPIλ΅ μ‹¤μ  API λ§λ“¤κΈ°
   - PydanticμΌλ΅ λ°μ΄ν„° κ²€μ¦
   - λ°μ΄ν„°λ² μ΄μ¤ μ—°λ™

2. **μ‹¬ν™” ν•™μµ**
   - μ •κ·μ‹μ„ μ‚¬μ©ν• κ²€μ¦
   - μμ™Έ μ²λ¦¬ κ°•ν™”
   - μ λ‹› ν…μ¤νΈ μ‘μ„±
