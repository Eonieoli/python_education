# 3_advanced_solution.py

"""
Day 2 - 8êµì‹œ: ì¢…í•© ì‹¤ìŠµ
ğŸ”´ ë„ì „ Problem - ë°ì´í„° ë³€í™˜ ë° í†µê³„ (ì •ë‹µ)
"""

# ============================================
# 1. ì£¼ë¬¸ ë°ì´í„° ìƒì„±
# ============================================

# ì£¼ë¬¸ ë°ì´í„° ë”•ì…”ë„ˆë¦¬ ë¦¬ìŠ¤íŠ¸
orders = [
    {"customer": "ê¹€ì² ìˆ˜", "product": "ë…¸íŠ¸ë¶", "quantity": 1, "price": 150000},
    {"customer": "ì´ì˜í¬", "product": "ë§ˆìš°ìŠ¤", "quantity": 4, "price": 25000},
    {"customer": "ê¹€ì² ìˆ˜", "product": "í‚¤ë³´ë“œ", "quantity": 2, "price": 75000},
    {"customer": "ë°•ë¯¼ìˆ˜", "product": "í—¤ë“œì…‹", "quantity": 1, "price": 85000},
    {"customer": "ì´ì˜í¬", "product": "ëª¨ë‹ˆí„°", "quantity": 1, "price": 220000}
]


# ============================================
# 2. ê³ ê°ë³„ ì´ ì£¼ë¬¸ ê¸ˆì•¡ ê³„ì‚°
# ============================================

# ê³ ê°ë³„ ê¸ˆì•¡ì„ ì €ì¥í•  ë”•ì…”ë„ˆë¦¬
customer_total = {}

# ê° ì£¼ë¬¸ì„ ìˆœíšŒí•˜ë©° ê³ ê°ë³„ í•©ê³„ ê³„ì‚°
for order in orders:
    customer = order["customer"]
    amount = order["price"] * order["quantity"]
    
    # ê³ ê°ì´ ì²˜ìŒì´ë©´ 0ìœ¼ë¡œ ì´ˆê¸°í™”
    if customer not in customer_total:
        customer_total[customer] = 0
    
    # ì£¼ë¬¸ ê¸ˆì•¡ ì¶”ê°€
    customer_total[customer] += amount

# ê³ ê°ë³„ ê¸ˆì•¡ ì¶œë ¥
print("=== ê³ ê°ë³„ ì´ ì£¼ë¬¸ ê¸ˆì•¡ ===")
for customer, total in customer_total.items():
    print(f"{customer}: {total}ì›")
# ì¶œë ¥:
# ê¹€ì² ìˆ˜: 300000ì› (150000 + 150000)
# ì´ì˜í¬: 320000ì› (100000 + 220000)
# ë°•ë¯¼ìˆ˜: 85000ì›


# ============================================
# 3. íŒë§¤ëœ ìƒí’ˆ ì¢…ë¥˜ ê°œìˆ˜
# ============================================

# ì§‘í•©ìœ¼ë¡œ ìƒí’ˆ ì¢…ë¥˜ ìˆ˜ì§‘ (ì¤‘ë³µ ìë™ ì œê±°)
products = set()
for order in orders:
    products.add(order["product"])

print(f"\níŒë§¤ëœ ìƒí’ˆ ì¢…ë¥˜: {len(products)}ê°œ")
# ì¶œë ¥: íŒë§¤ëœ ìƒí’ˆ ì¢…ë¥˜: 4ê°œ (ë…¸íŠ¸ë¶, ë§ˆìš°ìŠ¤, í‚¤ë³´ë“œ, í—¤ë“œì…‹, ëª¨ë‹ˆí„° ì¤‘ 4ê°œ)


# ============================================
# 4. ì „ì²´ ë§¤ì¶œê³¼ í‰ê·  ì£¼ë¬¸ ê¸ˆì•¡
# ============================================

# ì „ì²´ ë§¤ì¶œ ê³„ì‚°
total_sales = 0
for order in orders:
    total_sales += order["price"] * order["quantity"]

# í‰ê·  ì£¼ë¬¸ ê¸ˆì•¡
avg_order = total_sales / len(orders)

print(f"\nì „ì²´ ë§¤ì¶œ: {total_sales}ì›")
print(f"í‰ê·  ì£¼ë¬¸ ê¸ˆì•¡: {avg_order}ì›")
# ì¶œë ¥:
# ì „ì²´ ë§¤ì¶œ: 705000ì›
# í‰ê·  ì£¼ë¬¸ ê¸ˆì•¡: 141000ì›


# ============================================
# 5. ìµœëŒ€ ì£¼ë¬¸ ê¸ˆì•¡ ê³ ê° ì°¾ê¸°
# ============================================

# ìµœëŒ€ ê¸ˆì•¡ ê³ ê° ì°¾ê¸°
max_customer = ""
max_amount = 0

for customer, total in customer_total.items():
    if total > max_amount:
        max_amount = total
        max_customer = customer

print(f"\nìµœëŒ€ ì£¼ë¬¸ ê³ ê°: {max_customer} ({max_amount}ì›)")
# ì¶œë ¥: ìµœëŒ€ ì£¼ë¬¸ ê³ ê°: ì´ì˜í¬ (320000ì›)
